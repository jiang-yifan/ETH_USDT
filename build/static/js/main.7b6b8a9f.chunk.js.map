{"version":3,"sources":["App/components/App/App.tsx","App/components/App/App.styles.ts","index.tsx"],"names":["Decimals","UnconnectedApp","_React$PureComponent","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","walletAddress","toAddress","balance","amount","comment","disabled","signer","contract","handleToAddress","event","setState","target","value","handleAmount","handleComment","handleSubmit","_this$state","transfer","bigNumberify","parseFloat","Math","pow","then","fetch","method","body","JSON","stringify","from","window","ethereum","enable","_ref","address","slicedToArray","Web3Provider","getSigner","Contract","abi","balanceOf","toNumber","inherits","createClass","key","classes","_this$state2","react","className","container","Typography","paragraph","htmlFor","field","TextField","fullWidth","onChange","Button","variant","color","onClick","button","React","withStyles","_","createStyles","@global","html","height","minHeight","#root","img","display","a","textDecoration","marginTop","padding","wordBreak","maxWidth","margin","ReactDOM","render","react_default","createElement","MuiThemeProvider_default","theme","createMuiTheme","CssBaseline_default","App","document","getElementById"],"mappings":"wyMAcMA,EAAW,EAEJC,EAAb,SAAAC,GAaE,SAAAD,EAAYE,GAAkB,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAN,IAC5BG,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAJ,GAAAS,KAAAH,KAAMJ,KAbRQ,MAAQ,CACNC,cAAe,GACfC,UAAW,GACXC,QAAS,EACTC,OAAQ,GACRC,QAAS,GACTC,UAAU,GAMkBb,EAH9Bc,YAG8B,EAAAd,EAF9Be,cAE8B,EAAAf,EAkB9BgB,gBAAkB,SAChBC,GAIAjB,EAAKkB,SAAS,CACZT,UAAWQ,EAAME,OAAOC,SAxBEpB,EA4B9BqB,aAAe,SACbJ,GAIAjB,EAAKkB,SAAS,CACZP,OAAQM,EAAME,OAAOC,SAlCKpB,EAsC9BsB,cAAgB,SACdL,GAIAjB,EAAKkB,SAAS,CACZN,QAASK,EAAME,OAAOC,SA5CIpB,EAgD9BuB,aAAe,WAAM,IAAAC,EACmCxB,EAAKO,MAAnDE,EADWe,EACXf,UAAWE,EADAa,EACAb,OAAQH,EADRgB,EACQhB,cAAeI,EADvBY,EACuBZ,QAC1CZ,EAAKkB,SAAS,CAAEL,UAAU,IAC1Bb,EAAKe,SAAUU,SACbhB,EACAiB,uBAAaC,WAAWhB,GAAUiB,KAAKC,IAAI,GAAIjC,KAC/CkC,KAAK,WACLC,MAAM,WAAY,CAChBC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CACnB1B,YACAE,SACAC,UACAwB,KAAM5B,SA3DR6B,OAAOC,UACTD,OAAOC,SAASC,SAAST,KAAK,SAAAU,GAAe,IAAbC,EAAaxC,OAAAyC,EAAA,EAAAzC,CAAAuC,EAAA,MAC3CxC,EAAKc,OAAS,IAAI6B,eAAaN,OAAOC,UAAUM,YAChD5C,EAAKe,SAAW,IAAI8B,WAClB,6CACAC,IACA9C,EAAKc,QAEPd,EAAKe,SAAUgC,UAAUN,GAASX,KAAK,SAAApB,GACrCV,EAAKkB,SAAS,CAAER,QAASA,EAAQsC,eAEnChD,EAAKkB,SAAS,CAAEV,cAAeiC,MAbPzC,EAbhC,OAAAC,OAAAgD,EAAA,EAAAhD,CAAAJ,EAAAC,GAAAG,OAAAiD,EAAA,EAAAjD,CAAAJ,EAAA,EAAAsD,IAAA,SAAA/B,MAAA,WAgFW,IACCgC,EAAYjD,KAAKJ,MAAjBqD,QADDC,EASHlD,KAAKI,MANPC,EAHK6C,EAGL7C,cACAC,EAJK4C,EAIL5C,UACAE,EALK0C,EAKL1C,OACAD,EANK2C,EAML3C,QACAE,EAPKyC,EAOLzC,QACAC,EARKwC,EAQLxC,SAEF,OACEyC,EAAA,qBAAKC,UAAWH,EAAQI,WACtBF,EAAA,cAACG,EAAA,EAAD,+BACAH,EAAA,cAACG,EAAA,EAAD,CAAYC,WAAS,GAArB,IAAwBlD,GACxB8C,EAAA,cAACG,EAAA,EAAD,2BACAH,EAAA,cAACG,EAAA,EAAD,KAAa/C,EAAUkB,KAAKC,IAAI,GAAIjC,IACpC0D,EAAA,uBAAOK,QAAQ,GAAGJ,UAAWH,EAAQQ,OACnCN,EAAA,cAACG,EAAA,EAAD,sBACAH,EAAA,cAACO,EAAA,EAAD,CAAWC,WAAS,EAAC1C,MAAOT,EAAQoD,SAAU5D,KAAKkB,gBAErDiC,EAAA,uBAAOK,QAAQ,GAAGJ,UAAWH,EAAQQ,OACnCN,EAAA,cAACG,EAAA,EAAD,oBACAH,EAAA,cAACO,EAAA,EAAD,CACEC,WAAS,EACT1C,MAAOX,EACPsD,SAAU5D,KAAKa,mBAGnBsC,EAAA,uBAAOK,QAAQ,GAAGJ,UAAWH,EAAQQ,OACnCN,EAAA,cAACG,EAAA,EAAD,iBACAH,EAAA,cAACO,EAAA,EAAD,CAAWC,WAAS,EAAC1C,MAAOR,EAASmD,SAAU5D,KAAKmB,iBAEtDgC,EAAA,cAACU,EAAA,EAAD,CACEC,QAAQ,YACRC,MAAM,UACNrD,UAAWF,IAAWF,GAAaI,EACnCsD,QAAShE,KAAKoB,aACdgC,UAAWH,EAAQgB,QALrB,eAhHRvE,EAAA,CAAoCwE,iBA8HrBC,MC1IA,SAACC,GAAD,OACbC,IAAa,CACXC,UAAW,CACTC,KAAM,CACJC,OAAQ,QAEV1C,KAAM,CACJ0C,OAAQ,OACRC,UAAW,QAEbC,QAAS,CACPF,OAAQ,OACRC,UAAW,QAEbE,IAAK,CACHC,QAAS,SAEXC,EAAG,CACDC,eAAgB,SAGpBzB,UAAW,CACT0B,UAAW,GACXC,QAAS,SACTC,UAAW,YACXC,SAAU,IACVC,OAAQ,QAEV1B,MAAO,CACLsB,UAAW,GACXH,QAAS,SAEXX,OAAQ,CACNc,UAAW,ODyGFZ,CAAmBzE,+CEtIhC0F,IAASC,OACPC,EAAAT,EAAAU,cAACC,EAAAX,EAAD,CAAkBY,MAAOC,eACvBJ,EAAAT,EAAAU,cAACI,EAAAd,EAAD,KACES,EAAAT,EAAAU,cAACK,EAAD,QAGJC,SAASC,eAAe","file":"static/js/main.7b6b8a9f.chunk.js","sourcesContent":["import * as React from 'react'\nimport withStyles, { WithStyles } from '@material-ui/core/styles/withStyles'\nimport styles from './App.styles'\nimport { Button, Typography } from '@material-ui/core'\nimport TextField from '@material-ui/core/TextField'\nimport { Web3Provider } from 'ethers/providers'\nimport { Contract, Signer } from 'ethers'\nimport { abi } from './abi.json'\nimport { bigNumberify } from 'ethers/utils'\n\ninterface IAppProps extends IAppOwnProps, WithStyles {}\n\ninterface IAppOwnProps {}\n\nconst Decimals = 6\n\nexport class UnconnectedApp extends React.PureComponent<IAppProps> {\n  state = {\n    walletAddress: '',\n    toAddress: '',\n    balance: 0,\n    amount: '',\n    comment: '',\n    disabled: false\n  }\n\n  signer?: Signer\n  contract?: Contract\n\n  constructor(props: IAppProps) {\n    super(props)\n    if (window.ethereum) {\n      window.ethereum.enable().then(([address]) => {\n        this.signer = new Web3Provider(window.ethereum).getSigner()\n        this.contract = new Contract(\n          '0xdac17f958d2ee523a2206206994597c13d831ec7',\n          abi,\n          this.signer\n        )\n        this.contract!.balanceOf(address).then(balance => {\n          this.setState({ balance: balance.toNumber() })\n        })\n        this.setState({ walletAddress: address })\n      })\n    }\n  }\n\n  handleToAddress = (\n    event: React.ChangeEvent<\n      HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement\n    >\n  ) => {\n    this.setState({\n      toAddress: event.target.value\n    })\n  }\n\n  handleAmount = (\n    event: React.ChangeEvent<\n      HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement\n    >\n  ) => {\n    this.setState({\n      amount: event.target.value\n    })\n  }\n\n  handleComment = (\n    event: React.ChangeEvent<\n      HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement\n    >\n  ) => {\n    this.setState({\n      comment: event.target.value\n    })\n  }\n\n  handleSubmit = () => {\n    const { toAddress, amount, walletAddress, comment } = this.state\n    this.setState({ disabled: true })\n    this.contract!.transfer(\n      toAddress,\n      bigNumberify(parseFloat(amount) * Math.pow(10, Decimals))\n    ).then(() => {\n      fetch('/results', {\n        method: 'post',\n        body: JSON.stringify({\n          toAddress,\n          amount,\n          comment,\n          from: walletAddress\n        })\n      })\n    })\n  }\n\n  render() {\n    const { classes } = this.props\n    const {\n      walletAddress,\n      toAddress,\n      amount,\n      balance,\n      comment,\n      disabled\n    } = this.state\n    return (\n      <div className={classes.container}>\n        <Typography>Your Ethereum Address:</Typography>\n        <Typography paragraph> {walletAddress}</Typography>\n        <Typography>Your USDT Balance:</Typography>\n        <Typography>{balance / Math.pow(10, Decimals)}</Typography>\n        <label htmlFor=\"\" className={classes.field}>\n          <Typography>Usdt to Send:</Typography>\n          <TextField fullWidth value={amount} onChange={this.handleAmount} />\n        </label>\n        <label htmlFor=\"\" className={classes.field}>\n          <Typography>To Address:</Typography>\n          <TextField\n            fullWidth\n            value={toAddress}\n            onChange={this.handleToAddress}\n          />\n        </label>\n        <label htmlFor=\"\" className={classes.field}>\n          <Typography>Comment:</Typography>\n          <TextField fullWidth value={comment} onChange={this.handleComment} />\n        </label>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          disabled={!amount || !toAddress || disabled}\n          onClick={this.handleSubmit}\n          className={classes.button}\n        >\n          Submit\n        </Button>\n      </div>\n    )\n  }\n}\n\nexport default withStyles(styles)(UnconnectedApp)\n","import createStyles from '@material-ui/core/styles/createStyles'\nimport { Theme } from '@material-ui/core'\n\n// TODO update font\nexport default (_: Theme) =>\n  createStyles({\n    '@global': {\n      html: {\n        height: '100%'\n      },\n      body: {\n        height: '100%',\n        minHeight: '100%'\n      },\n      '#root': {\n        height: '100%',\n        minHeight: '100%'\n      },\n      img: {\n        display: 'block'\n      },\n      a: {\n        textDecoration: 'none'\n      }\n    },\n    container: {\n      marginTop: 24,\n      padding: '0 12px',\n      wordBreak: 'break-all',\n      maxWidth: 400,\n      margin: 'auto'\n    },\n    field: {\n      marginTop: 18,\n      display: 'block'\n    },\n    button: {\n      marginTop: 20\n    }\n  })\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App/components/App/App'\nimport CssBaseline from '@material-ui/core/CssBaseline/CssBaseline'\nimport MuiThemeProvider from '@material-ui/core/styles/MuiThemeProvider'\nimport { createMuiTheme } from '@material-ui/core'\n\nconst render = () => {\n  ReactDOM.render(\n    <MuiThemeProvider theme={createMuiTheme()}>\n      <CssBaseline>\n        <App />\n      </CssBaseline>\n    </MuiThemeProvider>,\n    document.getElementById('root')\n  )\n}\n\nrender()\n"],"sourceRoot":""}